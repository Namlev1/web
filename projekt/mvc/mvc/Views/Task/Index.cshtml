@model List<mvc.Models.TaskModel>

@{
ViewData["Title"] = "Task List";
}

<h1>Task List</h1>

@if (ViewBag.Error != null)
{
<div class="alert alert-danger">@ViewBag.Error</div>
}

<table class="table table-bordered table-striped">
    <thead>
    <tr>
        <th>Id</th>
        <th>Name</th>
        <th>Status</th>
        <th>Actions</th>
    </tr>
    </thead>
    <tbody>
    @if (Model != null && Model.Any())
    {
    foreach (var task in Model)
    {
    <tr>
        <td>@task.Id</td>
        <td>@task.Name</td>
        <td>
            @if (task.Done)
            {
                <span class="text-success">Completed</span>
            }
            else
            {
                <span class="text-warning">Pending</span>
            }
        </td>
        <td>
            <form asp-action="Delete" asp-controller="Task" method="post" style="display:inline;">
                <input type="hidden" name="id" value="@task.Id" />
                <button type="submit" onclick="return confirm('Are you sure to delete this task?');">
                    Delete
                </button>
            </form>
        </td>
    </tr>
    }
    }
    else
    {
    <tr>
        <td colspan="3" class="text-center">No tasks available</td>
    </tr>
    }
    </tbody>
</table>
